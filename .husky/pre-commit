#!/bin/bash
# Prevent committing secrets
echo "âœ… Pre-commit hook ran"
echo "ğŸ•µï¸â€â™€ï¸ Running Gitleaks detect (pre-commit)..."

if ! gitleaks detect --source="$(pwd)" --config=".gitleaks.toml" --exit-code 1; then
  echo "ğŸ›‘ Gitleaks detected secrets. Aborting commit."
  exit 1
fi
echo "âœ… No secrets found. Proceeding with commit."